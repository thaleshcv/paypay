<h1>Lançamentos</h1>

<div class="my-3 pt-5">
  <div class="d-flex align-items-center justify-content-between">
    <%= link_to 'Novo lançamento', new_entry_path %>
    <div class="d-flex">
      <%= select_month(Date.today, {}, { class: "form-select" }) %>
      <%= select_year(Date.today, {
          end_year: Time.zone.now.year,
          start_year: Time.zone.now.year-10
        }, {
          class: "form-select"
        }) %>
    </div>
  </div>
</div>

<% if @entries.empty? %>
  <%= notification type: "info" do %>
    <i class="bi bi-exclamation-triangle"></i>&nbsp;
    <span>Nenhum lançamento encontrado.</span>
  <% end %>
<% end %>

<ul class="list-group">
  <% @entries.each do |entry| %>
    <li class="list-group-item list-group-item-action py-3">
      <div class="mb-2 d-flex w-100 justify-content-between">
        <h5><%= entry.title %></h5>
        <h3><%= number_to_currency(entry.value) %></h3>
      </div>
      <div class="d-flex align-items-end justify-content-between">
        <span>
          <small><%= entry.operation %></small>
          &bull;
          <small><%= l(entry.date, format: :short) %></small>
        </span>
        <small>
          <%= link_to 'Editar', edit_entry_path(entry) %> /
          <%= link_to 'Excluir',
            entry,
            class: "text-danger",
            data: {
              turbo_confirm: t("exclusion.confim"),
              turbo_method: :delete
            } %>
        </small>
      </div>
    </li>
  <% end %>
</ul>
