<div class="row align-items-center">
  <div class="col-auto px-5 text-center">
    <p class="fs-4">
      <%= item.date.day %>
    </p>
    <span class="text-uppercase">
      <%= l(item.date, format: "%b %Y") %>
    </span>
  </div>
  <div class="col position-relative">
    <p class="fs-6">
      <% if item.billing_id.present? %>
        <i class="bi bi-clock text-primary"
          title="Lançamento com recorrência"></i>
      <% end %>
      <span class="text-primary">
        <%= item.description %>
      </span>
    </p>
    <small>
      Situação:
      <strong class="text-uppercase">
        <%= t(item.status, scope: "status") %>
      </strong>
    </small>
    <%= link_to '', item, class: "stretched-link" %>
  </div>
  <div class="col-auto text-end d-flex align-items-center" data-controller="dialog">
    <span class="fs-2">
      <%= number_to_currency(item.value) %>
    </span>
    <button class="btn mx-2 rounded-pill" data-action="click->dialog#launchDialog">
      <i class="bi bi-three-dots-vertical"></i>
    </button>
    <dialog data-dialog-target="dialog">
      <button type="button" class="btn-close" aria-label="Close" data-action="click->dialog#closeDialog"></button>
      <div class="d-grid gap-2 mt-3" style="min-width:300px;">
        <%= link_to 'Detalhar', item, class: "btn btn-light" %>
        <%= link_to 'Editar', edit_entry_path(item), class: "btn btn-light" %>
        <%= link_to edit_entry_status_path(item), class: "btn btn-light" do %>
          <% if item.status_pending? %>
            Confirmar pagamento
          <% else %>
            Desfazer pagamento
          <% end %>
        <% end %>
        <%= link_to 'Excluir',
          item,
          class: "btn btn-danger",
          data: {
            turbo_confirm: t("exclusion.confirm"),
            turbo_method: :delete
          } %>
      </div>
    </dialog>
  </div>
</div>
